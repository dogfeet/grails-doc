<html>
     <head>
     	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
     	<title>Grails Reference</title>
     	<link rel="stylesheet" href="../../css/ref.css" type="text/css" media="screen" title="Ref" charset="utf-8">
     </head>
	<body class="body">
		<h1>formatNumber </h1><p class="paragraph"/><h2>Purpose</h2><p class="paragraph"/>Allows the formatting of numbers using the same patterns defined by the <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/text/DecimalFormat.html" target="blank">DecimalFormat</a> class.<p class="paragraph"/><h2>Examples</h2><p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;g:formatNumber number=<span class="xml&#45;quote">"$&#123;myNumber&#125;"</span> format="&#92;&#92;$&#35;&#35;&#35;,&#35;&#35;0" /&#62;</span></pre></div><p class="paragraph"/><h2>Description</h2><p class="paragraph"/>Attributes
<ul class="star">
<li><code>format</code> (required) - The format to use for the number</li>
<li><code>number</code> (required) - The number object to formate</li>
</ul><p class="paragraph"/><h2>Source</h2><p class="paragraph"/><p><a href="#" onclick="document.getElementById('formatNumber').style.display='inline'">Show Source</a></p><div id="formatNumber" style="display:none;"><div class="code"><pre>def formatNumber = &#123; attrs &#45;&#62;<p class="paragraph"/>		<span class="java&#45;keyword">if</span> (!attrs.containsKey(&#39;number&#39;))
			throwTagError(&#34;Tag &#91;formatNumber&#93; is missing required attribute &#91;number&#93;&#34;)<p class="paragraph"/>    	def number = attrs.get(&#39;number&#39;)
    	<span class="java&#45;keyword">if</span> (number == <span class="java&#45;keyword">null</span>) <span class="java&#45;keyword">return</span><p class="paragraph"/>        def formatName = attrs.get(&#39;formatName&#39;)
        def format = attrs.get(&#39;format&#39;)<p class="paragraph"/>        <span class="java&#45;keyword">if</span>(!format &#38;&#38; formatName) &#123;
            format = message(code:formatName)
            <span class="java&#45;keyword">if</span>(!format) throwTagError(&#34;Attribute &#91;formatName&#93; of Tag &#91;formatNumber&#93; specifies a format key &#91;$formatName&#93; that does not exist within a message bundle!&#34;)
        &#125;
        <span class="java&#45;keyword">else</span> <span class="java&#45;keyword">if</span> (!format) &#123;
                format = &#34;0&#34;
        &#125;<p class="paragraph"/>        <span class="java&#45;keyword">final</span> def locale = RCU.getLocale(request)
        def dcfs = locale ?
        <span class="java&#45;keyword">new</span> DecimalFormatSymbols( locale ) :
        <span class="java&#45;keyword">new</span> DecimalFormatSymbols()<p class="paragraph"/>        def decimalFormat = <span class="java&#45;keyword">new</span> java.text.DecimalFormat( format, dcfs )<p class="paragraph"/>        out &#60;&#60; decimalFormat.format((<span class="java&#45;object">Double</span>)number)
    &#125;</pre></div></div><p class="paragraph"/>

	</body>
</html>